<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Archive of Distant Farlands Disk 1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Distant Farlands - Disk 1</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5.3.0/dist/photoswipe.css">
  <link rel="stylesheet" href="https://unpkg.com/photoswipe-dynamic-caption-plugin@1.2.7/photoswipe-dynamic-caption-plugin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    <h1>Distant Farlands â€“ Disk 1</h1>
  </header>

  <section class="gallery-section">
    <h2>Welcome</h2>

        <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/DF-WelcomeBG.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/DF-WelcomeBG.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Background</b><br>Drawn by.. wait, i forgot!</div>
      </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/mmdf.gif">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/mmdf.gif" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Markus Sprites</b><br>Drawn by Dani, Cloud and Dumb<br>Animated by Borgan</div>
      </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144202.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144202.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Markus Icons</b><br>Drawn by Dumb</div>
      </div>
    </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144503.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144503.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Minnie Icons</b><br>Drawn by Dumb</div>
      </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144205.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144205.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Goofy Icons</b><br>Drawn by Dumb</div>
      </div>
    </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144208.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144208.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Donald Icons</b><br>Drawn by Dumb</div>
      </div>

    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144501.png">
          <img src="https://magic-league-archive.github.io/storage/distant-farlands/disk-1/welcome/37_sin_titulo3_20250223144501.png" alt="Welcome image">
        </a>
        <div class="pswp-caption-content"><b>Daisy Icons (Unfinished)</b><br>Drawn by Dumb</div>
      </div>
    </div>
  </section>

  <section class="gallery-section">
    <h2>Rage</h2>
    <div class="pswp-gallery">
      <div class="pswp-gallery__item">
        <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg">
          <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg" alt="Rage image">
        </a>
        <div class="pswp-caption-content"><b>Lorem ipsum dolor (1933)</b><br>Color photograph<br>12 x 10</div>
      </div>
    </div>
  </section>

  <footer>
    <p>Leave a comment!</p>
<div id="graphcomment"></div>
<script type="text/javascript">
  var __semio__params = {
    graphcommentId: "Disk-1",

    behaviour: {
    },

  }
  function __semio__onload() {
    __semio__gc_graphlogin(__semio__params)
  }


  (function() {
    var gc = document.createElement('script'); gc.type = 'text/javascript'; gc.async = true;
    gc.onload = __semio__onload; gc.defer = true; gc.src = 'https://integration.graphcomment.com/gc_graphlogin.js?' + Date.now();
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(gc);
  })();
  
</script>

<script type="module">
  import PhotoSwipeLightbox from 'https://cdn.jsdelivr.net/npm/photoswipe@5.3.0/dist/photoswipe-lightbox.esm.js';
  import PhotoSwipeDynamicCaption from 'https://unpkg.com/photoswipe-dynamic-caption-plugin/photoswipe-dynamic-caption-plugin.esm.js';

  const preloadDimensions = async () => {
    const links = document.querySelectorAll('.pswp-gallery__item a');
    const promises = [];

    links.forEach(link => {
      const img = new Image();
      img.src = link.href;
      const promise = new Promise(resolve => {
        img.onload = () => {
          link.setAttribute('data-pswp-width', img.naturalWidth);
          link.setAttribute('data-pswp-height', img.naturalHeight);
          resolve();
        };
        img.onerror = resolve;
      });
      promises.push(promise);
    });

    await Promise.all(promises);
  };

  preloadDimensions().then(() => {
    const lightbox = new PhotoSwipeLightbox({
      gallerySelector: '.pswp-gallery',
      childSelector: '.pswp-gallery__item',
      paddingFn: (viewportSize) => {
        return viewportSize.x < 700
          ? { top: 10, bottom: 10, left: 0, right: 0 }
          : { top: 30, bottom: 30, left: 0, right: 0 };
      },
      pswpModule: () => import('https://cdn.jsdelivr.net/npm/photoswipe@5.3.0/dist/photoswipe.esm.js')
    });

    new PhotoSwipeDynamicCaption(lightbox, {
      mobileLayoutBreakpoint: 700,
      type: 'auto',
      mobileCaptionOverlapRatio: 1
    });

    lightbox.on('uiRegister', () => {
      lightbox.pswp.ui.registerElement({
        name: 'download-button',
        order: 8,
        isButton: true,
        tagName: 'a',
        html: {
          isCustomSVG: true,
          inner: '<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z" id="pswp__icn-download"/>',
          outlineID: 'pswp__icn-download'
        },
        onInit: (el, pswp) => {
          pswp.on('change', () => {
            fetch(pswp.currSlide.data.src)
              .then(res => res.blob())
              .then(blob => {
                const url = URL.createObjectURL(blob);
                el.href = url;
                el.download = pswp.currSlide.data.src.split('/').pop();
              });
          });
        }
      });
    });

    lightbox.init();
  });
</script>

</body>
</html>
